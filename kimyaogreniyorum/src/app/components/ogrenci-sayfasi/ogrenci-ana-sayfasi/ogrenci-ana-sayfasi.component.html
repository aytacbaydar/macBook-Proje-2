
    <!-- Dashboard Content -->
        <!-- Quick Stats Cards -->
        <div class="row g-3 mb-4">
          <!-- Devamsızlık Card -->
          <div class="col-md-3 col-sm-6">
            <div class="card h-100 border-success border-start border-4 rounded-lg shadow-sm">
              <div class="card-body p-3">
                <div class="d-flex align-items-center">
                  <div class="icon-bg rounded-circle bg-success-subtle p-2 me-3">
                    <i class="bi bi-calendar-check fs-4 text-success"></i>
                  </div>
                  <div>
                    <h6 class="text-muted mb-0 small">Bu Hafta Devam</h6>
                    <h4 class="mb-0">{{ thisWeekAttendance }}/5</h4>
                    <div class="small text-success mt-1">
                      %{{ getAttendancePercentage() }} Devam
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Ders İlerlemesi Card -->
          <div class="col-md-3 col-sm-6">
            <div class="card h-100 border-primary border-start border-4 rounded-lg shadow-sm">
              <div class="card-body p-3">
                <div class="d-flex align-items-center">
                  <div class="icon-bg rounded-circle bg-primary-subtle p-2 me-3">
                    <i class="bi bi-book fs-4 text-primary"></i>
                  </div>
                  <div>
                    <h6 class="text-muted mb-0 small">Ders İlerlemesi</h6>
                    <h4 class="mb-0">{{ completedLessons }}/{{ totalLessons }}</h4>
                    <div class="small text-primary mt-1">
                      %{{ getLessonProgress() }} Tamamlandı
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Sınav Başarısı Card -->
          <div class="col-md-3 col-sm-6">
            <div class="card h-100 border-warning border-start border-4 rounded-lg shadow-sm">
              <div class="card-body p-3">
                <div class="d-flex align-items-center">
                  <div class="icon-bg rounded-circle bg-warning-subtle p-2 me-3">
                    <i class="bi bi-clipboard-check fs-4 text-warning"></i>
                  </div>
                  <div>
                    <h6 class="text-muted mb-0 small">Sınav Başarısı</h6>
                    <h4 class="mb-0">{{ passedExams }}/{{ totalExams }}</h4>
                    <div class="small text-warning mt-1">
                      %{{ getExamSuccessRate() }} Başarı
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Not Ortalaması Card -->
          <div class="col-md-3 col-sm-6">
            <div class="card h-100 border-info border-start border-4 rounded-lg shadow-sm">
              <div class="card-body p-3">
                <div class="d-flex align-items-center">
                  <div class="icon-bg rounded-circle bg-info-subtle p-2 me-3">
                    <i class="bi bi-trophy fs-4 text-info"></i>
                  </div>
                  <div>
                    <h6 class="text-muted mb-0 small">Genel Ortalama</h6>
                    <h4 class="mb-0">{{ currentGrade }}</h4>
                    <div class="small text-info mt-1">
                      Mükemmel
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Quick Actions Row -->
        <div class="row g-3 mb-4">
          <!-- QR Kod Kartı -->
          <div class="col-md-6">
            <div class="card h-100 shadow-sm">
              <div class="card-header bg-gradient-primary text-white">
                <h5 class="card-title mb-0 d-flex align-items-center">
                  <i class="bi bi-qr-code me-2"></i>
                  QR Kod İşlemleri
                </h5>
              </div>
              <div class="card-body p-4">
                <p class="text-muted mb-3">Sınıfa giriş/çıkış işlemleri için QR kodunu kullanın.</p>
                <div class="d-grid">
                  <a routerLink="/ogrenci-sayfasi/ogrenci-qr-kod-sayfasi" 
                     class="btn btn-primary btn-lg">
                    <i class="bi bi-qr-code me-2"></i>
                    QR Kod Sayfası
                  </a>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Dersler Kartı -->
          <div class="col-md-6">
            <div class="card h-100 shadow-sm">
              <div class="card-header bg-gradient-success text-white">
                <h5 class="card-title mb-0 d-flex align-items-center">
                  <i class="bi bi-book me-2"></i>
                  Ders Programı
                </h5>
              </div>
              <div class="card-body p-4">
                <p class="text-muted mb-2">Bir sonraki ders:</p>
                <h6 class="fw-bold text-success mb-3">{{ nextLesson }}</h6>
                <div class="d-grid">
                  <button class="btn btn-outline-success btn-lg">
                    <i class="bi bi-calendar-event me-2"></i>
                    Ders Programını Gör
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Son İşlenen Konular Bölümü -->
        <div class="row g-3 mb-4">
          <div class="col-12">
            <div class="card shadow-sm">
              <div class="card-header bg-gradient-success text-white">
                <h5 class="card-title mb-0 d-flex align-items-center">
                  <i class="bi bi-bookmark-check-fill me-2"></i>
                  Son İşlenen Konular
                </h5>
              </div>
              <div class="card-body">
                <!-- Loading State -->
                <div *ngIf="isLoadingTopics" class="text-center py-3">
                  <div class="spinner-border spinner-border-sm text-success" role="status">
                    <span class="visually-hidden">Yükleniyor...</span>
                  </div>
                  <p class="text-muted mt-2 mb-0">Konular yükleniyor...</p>
                </div>

                <!-- Error State -->
                <div *ngIf="topicsError && !isLoadingTopics" class="text-center py-3">
                  <i class="bi bi-exclamation-triangle text-warning"></i>
                  <p class="text-muted mb-2">{{ topicsError }}</p>
                  <button class="btn btn-sm btn-outline-success" (click)="loadRecentTopics()">
                    <i class="bi bi-arrow-clockwise me-1"></i>
                    Tekrar Dene
                  </button>
                </div>

                <!-- Son İşlenen Konular Listesi -->
                <div *ngIf="!isLoadingTopics && !topicsError && recentTopics.length > 0" class="recent-topics-list">
                  <div class="topic-item-recent" 
                       *ngFor="let topic of recentTopics; let i = index"
                       [style.animation-delay]="i * 0.1 + 's'">
                    <div class="topic-status-icon">
                      <i class="bi bi-check-circle-fill text-success"></i>
                    </div>
                    <div class="topic-content-recent">
                      <div class="topic-header-recent">
                        <h6 class="topic-title-recent">{{ topic.konu_adi }}</h6>
                        <span class="topic-class-badge-recent">{{ topic.sinif_seviyesi }}</span>
                      </div>
                      <div class="topic-meta-recent">
                        <span class="topic-unit">
                          <i class="bi bi-folder me-1"></i>
                          {{ topic.unite_adi }}
                        </span>
                        <span class="topic-date">
                          <i class="bi bi-calendar-check me-1"></i>
                          {{ formatDate(topic.isleme_tarihi) }}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Boş Durum -->
                <div *ngIf="!isLoadingTopics && !topicsError && recentTopics.length === 0" class="text-center py-4">
                  <i class="bi bi-journal-x text-muted" style="font-size: 2rem;"></i>
                  <p class="text-muted mt-2 mb-0">Henüz işlenen konu bulunmuyor</p>
                  <small class="text-muted">Öğretmeniniz konuları işledikçe burada görünecek</small>
                </div>

                <!-- Tümünü Gör Butonu -->
                <div *ngIf="!isLoadingTopics && !topicsError && recentTopics.length > 0" class="text-center mt-3">
                  <a routerLink="/ogrenci-sayfasi/ogrenci-islenen-konular-sayfasi" 
                     class="btn btn-outline-success btn-sm">
                    <i class="bi bi-arrow-right me-1"></i>
                    Tüm Konuları Gör
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Progress Charts Row -->
        <div class="row g-3">
          <!-- Devamsızlık Grafiği -->
          <div class="col-md-6">
            <div class="card shadow-sm">
              <div class="card-header  bg-gradient-primary ">
                <h5 class="card-title mb-0">Haftalık Devam Durumu</h5>
              </div>
              <div class="card-body">
                <div class="progress mb-2" style="height: 20px;">
                  <div class="progress-bar bg-success" 
                       [style.width.%]="getAttendancePercentage()"
                       role="progressbar">
                    %{{ getAttendancePercentage() }}
                  </div>
                </div>
                <small class="text-muted">Bu hafta {{ thisWeekAttendance }} gün devam ettiniz</small>
              </div>
            </div>
          </div>
  
          <!-- Ders İlerlemesi Grafiği -->
          <div class="col-md-6">
            <div class="card shadow-sm  ">
              <div class="card-header bg-gradient-primary">
                <h5 class="card-title mb-0">Ders İlerlemesi</h5>
              </div>
              <div class="card-body">
                <div class="progress mb-2" style="height: 20px;">
                  <div class="progress-bar bg-primary" 
                       [style.width.%]="getLessonProgress()"
                       role="progressbar">
                    %{{ getLessonProgress() }}
                  </div>
                </div>
                <small class="text-muted">{{ completedLessons }}/{{ totalLessons }} ders tamamlandı</small>
              </div>
            </div>
          </div>
        </div>
    
      <!-- Dashboard Content -->