
<div class="ogrenci-odevler-container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">
        <i class="bi bi-journal-text me-2"></i>
        Ödevlerim
      </h1>
      <p class="page-description">
        Öğretmeniniz tarafından verilen ödevleri burada görebilirsiniz.
      </p>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Yükleniyor...</span>
    </div>
    <p class="mt-2">Ödevler yükleniyor...</p>
  </div>

  <!-- Ödevler Listesi -->
  <div *ngIf="!isLoading" class="odevler-grid">
    <div *ngIf="odevler.length === 0" class="no-homeworks">
      <div class="no-homeworks-content">
        <i class="bi bi-journal-x"></i>
        <h3>Henüz ödev verilmemiş</h3>
        <p>Öğretmeniniz henüz size bir ödev vermemiş. Yeni ödevler geldiğinde burada görünecek.</p>
      </div>
    </div>

    <div *ngFor="let odev of odevler" class="odev-card" [class]="getDurumClass(odev.durum)">
      <!-- Ödev Başlığı -->
      <div class="odev-header">
        <div class="odev-title">
          <h3>{{ odev.konu }}</h3>
          <span class="grup-badge">{{ odev.grup }}</span>
        </div>
        <div class="odev-status">
          <span class="durum-badge" [class]="getDurumClass(odev.durum)">
            {{ getDurumText(odev.durum) }}
          </span>
        </div>
      </div>

      <!-- Ödev Bilgileri -->
      <div class="odev-body">
        <div class="odev-info">
          <div class="info-item">
            <i class="bi bi-person-fill"></i>
            <span>Öğretmen: {{ odev.ogretmen_adi }}</span>
          </div>
          <div class="info-item">
            <i class="bi bi-calendar-plus"></i>
            <span>Verilme Tarihi: {{ formatDate(odev.baslangic_tarihi) }}</span>
          </div>
          <div class="info-item">
            <i class="bi bi-calendar-check"></i>
            <span>Teslim Tarihi: {{ formatDate(odev.bitis_tarihi) }}</span>
          </div>
          
          <!-- Kalan Süre -->
          <div class="info-item" *ngIf="odev.durum === 'aktif'">
            <i class="bi bi-clock"></i>
            <span class="kalan-sure" [class]="getUrgencyClass(odev.kalan_gun)">
              {{ getKalanGunText(odev.kalan_gun) }}
            </span>
          </div>
        </div>

        <!-- Açıklama -->
        <div class="odev-aciklama" *ngIf="odev.aciklama">
          <h5><i class="bi bi-info-circle"></i> Açıklama:</h5>
          <p>{{ odev.aciklama }}</p>
        </div>
      </div>

      <!-- Ödev Aksiyonları -->
      <div class="odev-footer">
        <div class="odev-actions">
          <button 
            *ngIf="odev.pdf_dosyasi" 
            class="btn btn-primary"
            (click)="openPdf(odev.pdf_dosyasi)">
            <i class="bi bi-file-pdf"></i>
            PDF'i Görüntüle
          </button>
          <span *ngIf="!odev.pdf_dosyasi" class="no-pdf-text">
            <i class="bi bi-info-circle"></i>
            PDF dosyası eklenmemiş
          </span>
        </div>
        
        <div class="odev-date">
          <small class="text-muted">
            <i class="bi bi-calendar"></i>
            Oluşturulma: {{ formatDate(odev.olusturma_tarihi) }}
          </small>
        </div>
      </div>
    </div>
  </div>
</div>
