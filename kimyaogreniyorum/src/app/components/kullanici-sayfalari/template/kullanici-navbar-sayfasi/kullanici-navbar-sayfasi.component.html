<!-- Navbar -->
<div class="kullanici-navbar">
  <div class="navbar-container">
    <div class="navbar-left">
      <button class="menu-toggle" type="button" (click)="toggleSidebar()" aria-label="Menüyü Aç">
        <i class="fa-solid fa-bars"></i>
      </button>
      <div class="brand">
        <span class="brand-title">Kimya</span>
        <span class="brand-highlight">Öğreniyorum</span>
      </div>
    </div>

    <div class="navbar-right dropdown">
      <button
        class="user-info dropdown-toggle"
        type="button"
        id="userDropdown"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <span class="avatar-wrapper">
          <img [src]="studentAvatar" alt="Avatar" class="user-avatar">
        </span>
        <span class="user-meta">
          <span class="user-name" title="{{ studentName }}">{{ studentName }}</span>
          <span class="user-role">Öğrenci</span>
        </span>
        <i class="bi bi-chevron-down chevron-icon"></i>
      </button>

      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
          <!--
          <li class="dropdown-user-info">
            <div class="ogrenci-bilgisi">
              <div class="user-role-menu">{{ studentTeacher }}</div>
              <div class="user-name-menu"><p> 0.544 231 14 08</p></div>
              <div class="user-role-menu">Sınıfı : {{ studentClass }}</div>
            </div>
          </li>
          <li><hr class="dropdown-divider" /></li>
          -->
          <li>
            <a class="dropdown-item text-danger" href="#">
              <div class="cikis">
                <p>Güvenli Çıkış</p>
                <i class="material-icons">logout</i>
              </div>
            </a>
          </li>
        </ul>
    </div>
  </div>
</div>

<!-- Mobil Footer Menu -->
<div class="mobile-footer-menu d-block d-lg-none">
  <div class="footer-menu-container">
    <div class="footer-menu-items">

      <!-- Anasayfa -->
      <a
        routerLink="/kullanici-sayfasi/"
        class="footer-menu-item"
        [routerLinkActive]="'active'"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <div class="footer-menu-icon">
          <i class="bi bi-house"></i>
        </div>
        <span class="footer-menu-text">Anasayfa</span>
      </a>

      <!-- Sınavlar -->
      <a
        routerLink="/kullanici-sayfasi/sinav-sonuclari-sayfasi"
        class="footer-menu-item"
        [routerLinkActive]="'active'"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <div class="footer-menu-icon">
          <i class="bi bi-clipboard-check"></i>
        </div>
        <span class="footer-menu-text">Sınavlar</span>
      </a>

      <!-- Menu Butonu (Ortada) -->
      <div class="footer-menu-item center-item" (click)="toggleBottomSheet()">
        <div class="footer-menu-icon-center">
          <i class="bi bi-grid"></i>
        </div>
        <span class="footer-menu-text">Menü</span>
      </div>

      <!-- Yol Haritası -->
      <a
        routerLink="/kullanici-sayfasi/islene-konular-sayfasi"
        class="footer-menu-item"
        [routerLinkActive]="'active'"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <div class="footer-menu-icon">
          <i class="bi bi-map"></i>
        </div>
        <span class="footer-menu-text">Yol Haritası</span>
      </a>

      <!-- Konu PDF -->
      <a
        routerLink="/kullanici-sayfasi/islene-konular-pdf-sayfasi"
        class="footer-menu-item"
        [routerLinkActive]="'active'"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <div class="footer-menu-icon">
          <i class="bi bi-file-earmark-pdf"></i>
        </div>
        <span class="footer-menu-text">Konu PDF</span>
      </a>

      <!-- Profil -->
      <a
        routerLink="/kullanici-sayfasi/profil-sayfasi"
        class="footer-menu-item"
        [routerLinkActive]="'active'"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <div class="footer-menu-icon">
          <i class="bi bi-person"></i>
        </div>
        <span class="footer-menu-text">Profil</span>
      </a>

    </div>
  </div>
</div>

<!-- Bottom Sheet Menu -->
<div class="bottom-sheet-overlay" [class.active]="isBottomSheetOpen" (click)="closeBottomSheet()"></div>
<div class="bottom-sheet" [class.active]="isBottomSheetOpen">
  <!--
  <div class="bottom-sheet-header">
    <h3>Menü</h3>
    <button class="close-btn" (click)="closeBottomSheet()">
      <i class="bi bi-x-lg"></i>
    </button>
  </div>
  -->
  <div class="bottom-sheet-content">
    <div class="menu-grid">

      <a routerLink="/kullanici-sayfasi/konu-analiz" class="menu-card logout-card" (click)="closeBottomSheet()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #29303c70 0%, #29303c 100%);">
          <i class="bi bi-bar-chart"></i>
        </div>
        <span class="menu-card-text">Konu Analizlerim</span>
      </a>
      
      <a routerLink="/kullanici-sayfasi/sinav-sonuclari-sayfasi" class="menu-card logout-card" (click)="closeBottomSheet()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #ff660070 0%, #ff6600 100%);">
          <i class="bi bi-clipboard-check"></i>
        </div>
        <span class="menu-card-text">Testlerim</span>
      </a>

      <a routerLink="/kullanici-sayfasi/islene-konular-sayfasi" class="menu-card logout-card" (click)="closeBottomSheet()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #29303c70 0%, #29303c 100%);">
          <i class="bi bi-map"></i>
        </div>
        <span class="menu-card-text">Yol Haritası</span>
      </a>

      <a routerLink="/kullanici-sayfasi/islene-konular-pdf-sayfasi" class="menu-card logout-card" (click)="closeBottomSheet()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #ff660070 0%, #ff6600 100%);">
          <i class="bi bi-file-earmark-pdf"></i>
        </div>
        <span class="menu-card-text">Konu PDF</span>
      </a>

      <a routerLink="/kullanici-sayfasi/cevap-anahtarlari" class="menu-card logout-card" (click)="closeBottomSheet()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #ff660070 0%, #ff6600 100%);">
          <i class="bi bi-key"></i>
        </div>
        <span class="menu-card-text">Cevap Anahtarları</span>
      </a>
      
      <a routerLink="/kullanici-sayfasi/ucret-bilgileri" class="menu-card  logout-card" (click)="closeBottomSheet()" *ngIf="studentKategori === 'ucretli'">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #29303c70 0%, #29303c 100%);">
          <i class="bi bi-credit-card"></i>
        </div>
        <span class="menu-card-text">Ücret Bilgilerim</span>
      </a>

      <a routerLink="/kullanici-sayfasi/cevap-anahtarlari" class="menu-card logout-card" (click)="closeBottomSheet()" *ngIf="studentKategori === 'ucretli'">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #ff660070 0%, #ff6600 100%);">
          <i class="bi bi-key"></i>
        </div>
        <span class="menu-card-text">Mesajlarım</span>
      </a>

      <a routerLink="/kullanici-sayfasi/ucret-bilgileri" class="menu-card  logout-card" (click)="closeBottomSheet()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #29303c70 0%, #29303c 100%);">
          <i class="bi bi-credit-card"></i>
        </div>
        <span class="menu-card-text">Duyurular</span>
      </a>
      

      <div class="menu-card logout-card" (click)="logout()">
        <div class="menu-card-icon" style="background: linear-gradient(135deg, #ff660070 0%, #ff6600 100%);">
          <i class="bi bi-box-arrow-right"></i>
        </div>
        <span class="menu-card-text">Çıkış Yap</span>
      </div>

    </div>
  </div>
</div>
