<div class="konu-anlatim-container">
  <div class="kontrol-paneli">
    <div class="arac-grubu cizim-araclari">
      <div class="renk-secici">
        <span class="arac-grup-label">Renkler:</span>
        <button (click)="hizliRenkSec('#FF0000')" class="renk-btn kirmizi" [class.aktif]="kalemRengi === '#FF0000'" title="KÄ±rmÄ±zÄ±"></button>
        <button (click)="hizliRenkSec('#0000FF')" class="renk-btn mavi" [class.aktif]="kalemRengi === '#0000FF'" title="Mavi"></button>
        <button (click)="hizliRenkSec('#00AA00')" class="renk-btn yesil" [class.aktif]="kalemRengi === '#00AA00'" title="YeÅŸil"></button>
        <button (click)="hizliRenkSec('#000000')" class="renk-btn siyah" [class.aktif]="kalemRengi === '#000000'" title="Siyah"></button>
        <input type="color" [(ngModel)]="kalemRengi" (change)="ayarlaKalemOzellikleri()" class="renk-input" title="Ã–zel Renk SeÃ§">
      </div>

      <div class="arac-grubu">
        <span class="arac-grup-label">AraÃ§lar:</span>
        <button (click)="kalemModunuAc()" class="btn-modern" [class.aktif]="!silgiModu && !fosforluKalemModu && cizilebilir && !sekilModu">
          <i class="ikon">âœï¸</i> Kalem
        </button>
        <button (click)="fosforluKalemModunuAc()" class="btn-modern fosforlu-btn" [class.aktif]="fosforluKalemModu">
          <i class="ikon">ğŸ–Œï¸</i> Fosforlu
        </button>
        <button (click)="silgiModunuAc()" class="btn-modern" [class.aktif]="silgiModu">
          <i class="ikon">ğŸ§¹</i> Silgi
        </button>
        <button (click)="toggleCizim()" class="btn-modern" [class.aktif]="!cizilebilir">
          <i class="ikon">ğŸ‘†</i> El
        </button>
      </div>
      
      <div class="arac-grubu fosforlu-renkler" *ngIf="fosforluKalemModu">
        <span class="arac-grup-label">Fosforlu Renkler:</span>
        <button (click)="fosforluKalemModunuAc('sari')" class="fosforlu-renk-btn sari" [class.aktif]="secilenFosforluRenk === fosforluRenkler['sari']" title="SarÄ±"></button>
        <button (click)="fosforluKalemModunuAc('yesil')" class="fosforlu-renk-btn yesil" [class.aktif]="secilenFosforluRenk === fosforluRenkler['yesil']" title="YeÅŸil"></button>
        <button (click)="fosforluKalemModunuAc('pembe')" class="fosforlu-renk-btn pembe" [class.aktif]="secilenFosforluRenk === fosforluRenkler['pembe']" title="Pembe"></button>
        <button (click)="fosforluKalemModunuAc('mavi')" class="fosforlu-renk-btn mavi" [class.aktif]="secilenFosforluRenk === fosforluRenkler['mavi']" title="Mavi"></button>
        <button (click)="fosforluKalemModunuAc('turuncu')" class="fosforlu-renk-btn turuncu" [class.aktif]="secilenFosforluRenk === fosforluRenkler['turuncu']" title="Turuncu"></button>
      </div>

      <div class="arac-grubu">
        <span class="arac-grup-label">KalÄ±nlÄ±k:</span>
        <select [(ngModel)]="kalemKalinligi" (change)="ayarlaKalemOzellikleri()" class="boyut-secici">
          <option [value]="2">Ä°nce (2px)</option>
          <option [value]="4">Normal (4px)</option>
          <option [value]="8">KalÄ±n (8px)</option>
          <option [value]="12">Ã‡ok KalÄ±n (12px)</option>
          <option [value]="16">Ekstra KalÄ±n (16px)</option>
        </select>
      </div>

      <div class="arac-grubu sekil-grubu">
        <span class="arac-grup-label">Åekiller:</span>
        <button (click)="sekilSec('cizgi')" class="sekil-btn" [class.aktif]="secilenSekil === 'cizgi'" title="Ã‡izgi">
          â•±
        </button>
        <button (click)="sekilSec('dikdortgen')" class="sekil-btn" [class.aktif]="secilenSekil === 'dikdortgen'" title="DikdÃ¶rtgen">
          â–¡
        </button>
        <button (click)="sekilSec('daire')" class="sekil-btn" [class.aktif]="secilenSekil === 'daire'" title="Daire">
          â—‹
        </button>
        <button (click)="sekilSec('ok')" class="sekil-btn" [class.aktif]="secilenSekil === 'ok'" title="Ok">
          â†’
        </button>
        <button (click)="sekilSec('ucgen')" class="sekil-btn" [class.aktif]="secilenSekil === 'ucgen'" title="ÃœÃ§gen">
          â–³
        </button>
      </div>
    </div>

    <div class="arac-grubu">
      <button (click)="temizleSayfa()" class="btn-modern temizle">
        <i class="ikon">ğŸ—‘ï¸</i> Temizle
      </button>
      <button (click)="sayfaEkle()" class="btn-modern">
        <i class="ikon">â•</i> Yeni Sayfa
      </button>
      <label for="pdf-upload" class="btn-modern pdf-yukle-btn">
        <i class="ikon">ğŸ“„</i> {{ pdfYukleniyor ? 'PDF YÃ¼kleniyor...' : 'PDF YÃ¼kle' }}
      </label>
      <input type="file" id="pdf-upload" accept="application/pdf" (change)="pdfYukle($event)" style="display: none;">
      <label for="resim-upload" class="btn-modern resim-yukle-btn">
        <i class="ikon">ğŸ–¼ï¸</i> {{ resimYukleniyor ? 'Resim YÃ¼kleniyor...' : 'Resim YÃ¼kle' }}
      </label>
      <input type="file" id="resim-upload" accept="image/*" (change)="resimYukle($event)" style="display: none;">
      <button (click)="tamEkranModu()" class="btn-modern tam-ekran">
        <i class="ikon">{{ isTamEkran ? 'â¤“' : 'â¤¢' }}</i> {{ isTamEkran ? 'Tam Ekrandan Ã‡Ä±k' : 'Tam Ekran' }}
      </button>
    </div>

    <div class="arac-grubu kaydetme-bolumu">
      <select [(ngModel)]="secilenGrup" class="grup-secici">
        <option value="" disabled selected>Ã–ÄŸrenci Grubu SeÃ§in</option>
        <option *ngFor="let grup of ogrenciGruplari" [value]="grup">{{ grup }}</option>
      </select>
      <button (click)="veritabaninaKaydet()" [disabled]="!secilenGrup || kaydetmeIsleminde" class="btn-modern kaydet">
        <i class="ikon">ğŸ’¾</i> {{ kaydetmeIsleminde ? 'Ä°ÅŸleniyor, lÃ¼tfen bekleyin...' : 'VeritabanÄ±na Kaydet' }}
      </button>
      <button (click)="indirPDF()" [disabled]="kaydetmeIsleminde" class="btn-modern indir">
        <i class="ikon">ğŸ“¥</i> {{ kaydetmeIsleminde ? 'Ä°ÅŸleniyor...' : 'PDF Ä°ndir' }}
      </button>
    </div>
  </div>

  <div class="calisma-alani">
    <div class="beyaz-tahta-container">
      <div *ngFor="let sayfa of sayfalar; let i = index" [class.aktif-sayfa]="currentPage === i + 1" class="beyaz-tahta">
        <canvas [id]="'canvas-' + (i + 1)" class="drawing-canvas"></canvas>
      </div>
    </div>
  </div>

  <div class="sayfa-navigasyon">
    <div class="footer-content">
      <!-- Canvas Sayfa Navigasyonu -->
      <div class="navigasyon-grubu">
        <span class="navigasyon-label">Canvas:</span>
        <button (click)="sayfaBas()" class="btn-modern btn-sayfa">
          <i class="ikon">â®ï¸</i> Ä°lk
        </button>
        <button (click)="oncekiSayfa()" class="btn-modern btn-sayfa" [disabled]="currentPage <= 1">
          <i class="ikon">â—€ï¸</i> Ã–nceki
        </button>
        <span class="sayfa-bilgisi">{{ currentPage }} / {{ totalPages }}</span>
        <button (click)="sonrakiSayfa()" class="btn-modern btn-sayfa" [disabled]="currentPage >= totalPages">
          <i class="ikon">â–¶ï¸</i> Sonraki
        </button>
        <button (click)="sayfaSon()" class="btn-modern btn-sayfa">
          <i class="ikon">â­ï¸</i> Son
        </button>
      </div>

      <!-- PDF Sayfa Navigasyonu -->
      <div class="navigasyon-grubu" *ngIf="yuklenenPdf">
        <span class="navigasyon-label">PDF:</span>
        <button (click)="pdfSayfasiDegistir(1)" class="btn-modern btn-sayfa">
          <i class="ikon">â®ï¸</i> Ä°lk
        </button>
        <button (click)="oncekiPdfSayfasi()" class="btn-modern btn-sayfa" [disabled]="seciliPdfSayfasi <= 1">
          <i class="ikon">â—€ï¸</i> Ã–nceki
        </button>
        <span class="sayfa-bilgisi">{{ seciliPdfSayfasi }} / {{ pdfSayfaSayisi }}</span>
        <button (click)="sonrakiPdfSayfasi()" class="btn-modern btn-sayfa" [disabled]="seciliPdfSayfasi >= pdfSayfaSayisi">
          <i class="ikon">â–¶ï¸</i> Sonraki
        </button>
        <button (click)="pdfSayfasiDegistir(pdfSayfaSayisi)" class="btn-modern btn-sayfa">
          <i class="ikon">â­ï¸</i> Son
        </button>
      </div>
    </div>
  </div>
</div>