<div class="randevu-container p-4">
  

  <form [formGroup]="randevuForm" (ngSubmit)="onSubmit()" class="randevu-form">
    <div class="form-grid">
      <!-- ðŸ”¹ KiÅŸisel Bilgiler -->
      <div class="form-section">
        <h3 class="section-title mt-4"><i class="fas fa-user"></i> KiÅŸisel Bilgiler</h3>

        <div class="form-row">
          <div class="form-group">
            <label>Ad *</label>
            <input type="text" formControlName="ad" placeholder="AdÄ±nÄ±zÄ± giriniz" />
            <div class="error-message" *ngIf="isFieldInvalid('ad')">{{ getFieldError('ad') }}</div>
          </div>

          <div class="form-group">
            <label>Soyad *</label>
            <input type="text" formControlName="soyad" placeholder="SoyadÄ±nÄ±zÄ± giriniz" />
            <div class="error-message" *ngIf="isFieldInvalid('soyad')">{{ getFieldError('soyad') }}</div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Telefon *</label>
            <input type="tel" formControlName="telefon" placeholder="05551234567" />
            <div class="error-message" *ngIf="isFieldInvalid('telefon')">{{ getFieldError('telefon') }}</div>
          </div>

          <div class="form-group">
            <label>E-mail *</label>
            <input type="email" formControlName="email" placeholder="ornek@email.com" />
            <div class="error-message" *ngIf="isFieldInvalid('email')">{{ getFieldError('email') }}</div>
          </div>
        </div>
      </div>

      <!-- ðŸ”¹ Randevu DetaylarÄ± -->
      <div class="form-section">
        <h3 class="section-title mt-4"><i class="fas fa-clock"></i> Randevu DetaylarÄ±</h3>

        <div class="form-row">
          <div class="form-group">
            <label>Tarih *</label>
            <input type="date" formControlName="tarih" [min]="minDate" />
            <div class="error-message" *ngIf="isFieldInvalid('tarih')">{{ getFieldError('tarih') }}</div>
          </div>

          <div class="form-group">
            <label>Saat *</label>
            <select formControlName="saat">
              <option value="">Saat seÃ§iniz</option>
              <option *ngFor="let s of ['09:00','10:00','11:00','12:00','14:00','15:00','16:00','17:00','18:00']" [value]="s">{{ s }}</option>
            </select>
            <div class="error-message" *ngIf="isFieldInvalid('saat')">{{ getFieldError('saat') }}</div>
          </div>
        </div>

        <div class="form-group">
          <label>DÃ¶vme TÃ¼rÃ¼ *</label>
          <select formControlName="dovmeTuru">
            <option value="">DÃ¶vme tÃ¼rÃ¼nÃ¼ seÃ§iniz</option>
            <option *ngFor="let t of dovmeTurleri" [value]="t.name">{{ t.name }}</option>
          </select>
          <div class="error-message" *ngIf="isFieldInvalid('dovmeTuru')">{{ getFieldError('dovmeTuru') }}</div>
        </div>

        <!-- ðŸ”¹ Hesaplama AlanÄ± -->
        <div class="price-area mt-4">
          <h4 class="mt-4"><i class="fas fa-calculator"></i> Fiyat Hesaplama</h4>
          <div class="form-row">
            <div class="form-group">
              <label>GeniÅŸlik (cm)</label>
              <input type="number" formControlName="genislik" step="0.1" min="0.1" />
            </div>
            <div class="form-group">
              <label>YÃ¼kseklik (cm)</label>
              <input type="number" formControlName="yukseklik" step="0.1" min="0.1" />
            </div>
            <div class="form-group">
              <label>Adet</label>
              <input type="number" formControlName="adet" min="1" />
            </div>
          </div>

          <div class="form-group">
            <label>Toplam Fiyat (â‚º)</label>
            <input type="number" formControlName="toplamFiyat" readonly />
          </div>
        </div>

        <div class="form-group">
          <label>AÃ§Ä±klama & Ä°stekler *</label>
          <textarea rows="3" formControlName="aciklama" placeholder="DÃ¶vme hakkÄ±nda detaylar, boyut, yer, istekler..."></textarea>
          <div class="error-message" *ngIf="isFieldInvalid('aciklama')">{{ getFieldError('aciklama') }}</div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-submit" [disabled]="isSubmitting">
        <i class="fas" [ngClass]="isSubmitting ? 'fa-spinner fa-spin' : 'fa-calendar-check'"></i>
        <span>{{ isSubmitting ? 'GÃ–NDERÄ°LÄ°YOR...' : 'RANDEVU AL' }}</span>
      </button>
    </div>
  </form>
</div>
